<!DOCTYPE html>
<html class="no-js" lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Agency - Bootstrap 5 Template</title>
    <meta name="robots" content="index, follow" />
    <meta name="description" content="Agench is an elegant design, 100% responsive Bootstrap 5 template. It is best for agency websites and marketing companies.">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="static/assets/images/favicon.png">

    <!-- CSS
	============================================ -->

    <!-- Vendor CSS (Bootstrap & Icon Font) -->
    <link rel="stylesheet" href="static/assets/css/vendor/font-awesome-pro.min.css">
    <link rel="stylesheet" href="static/assets/css/vendor/pe-icon-7-stroke.css">
    <link rel="stylesheet" href="static/assets/css/vendor/muli-font.css">

    <!-- Plugins CSS (All Plugins Files) -->

    <link rel="stylesheet" href="static/assets/css/plugins/swiper.min.css">
    <link rel="stylesheet" href="static/assets/css/plugins/animate.css">
    <link rel="stylesheet" href="static/assets/css/plugins/aos.min.css">
    <link rel="stylesheet" href="static/assets/css/plugins/magnific-popup.css">


    <!-- Main Style CSS -->
    <link rel="stylesheet" href="static/assets/css/style.css">

    <!-- Use the minified version files listed below for better performance and remove the files listed above -->
    <!-- <link rel="stylesheet" href="static/assets/css/vendor/vendor.min.css">
    <link rel="stylesheet" href="static/assets/css/plugins/plugins.min.css">
    <link rel="stylesheet" href="static/assets/css/style.min.css"> -->
    <style>
        .chat-container {
            position: relative;
        }
        .clear-btn-container {
            position: absolute;
            right: 0;
            bottom: 0;
            margin: 10px;
        }
    </style>
</head>

<body>

    <div id="page" class="section">
        <!-- Header Section Start -->
        <div class="header-section header-transparent sticky-header section">
            <div class="header-inner">
                <div class="container position-relative">
                    <div class="row justify-content-between align-items-center">

                        <!-- Header Logo Start -->
                        <div class="col-xl-2 col-auto order-0">
                            <div class="header-logo">
                                <a>
                                    <img class="dark-logo" src="static/assets/images/logo/light-logo.png" alt="Agency Logo">
                                    <img class="light-logo" src="static/assets/images/logo/light-logo.png" alt="Agency Logo">
                                </a>
                            </div>
                        </div>
                        <!-- Header Logo End -->

                        <!-- Header Main Menu Start -->
                        <div
                            class="col-auto col-xl d-flex align-items-center justify-content-xl-center justify-content-end order-2 order-xl-1">
                            <div class="menu-column-area d-none d-xl-block position-static">
                                <nav class="site-main-menu">
                                    <ul>
                                        <li>
                                            <a class="active" href="/home"><span
                                                    class="menu-text">首页</span></a>
                                        </li>
                                        <li>
                                            <a href="introduct"><span class="menu-text">介绍</span></a>
                                        </li>



                                        <li>
                                            <a href="contact"><span class="menu-text">联系我们</span></a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <!-- Header Search Start -->
                            <div class="header-search-area ml-xl-7 ml-0">

                                <!-- Header Login Start -->

                                <!-- Header Login End -->
                            </div>
                            <!-- Header Search End -->

                            <!-- Header Mobile Menu Toggle Start -->
                            <div class="header-mobile-menu-toggle d-xl-none ml-sm-2">
                                <button class="toggle">
                                    <i class="icon-top"></i>
                                    <i class="icon-middle"></i>
                                    <i class="icon-bottom"></i>
                                </button>
                            </div>
                            <!-- Header Mobile Menu Toggle End -->
                        </div>
                        <!-- Header Main Menu End -->

                        <!-- Header Right Start -->
                        <div class="col-xl-2 col d-none d-sm-flex justify-content-end order-1 order-xl-2">
                            <a href="/login" class="btn btn-light btn-hover-primary">登录/注册</a>
                        </div>
                        <!-- Header Right End -->

                    </div>
                </div>
            </div>
        </div>
        <!-- Header Section End -->

        <!-- Main Search Start -->
        <div class="main-search-active">
            <div class="sidebar-search-icon">
                <button class="search-close"><i class="pe-7s-close"></i></button>
            </div>
            <div class="sidebar-search-input">
                <form action="#">
                    <div class="form-search">
                        <input id="search" class="input-text" value="" placeholder="" type="search">
                        <button>
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </form>
                <p class="form-description">Hit enter to search or ESC to close</p>
            </div>
        </div>
        <!-- Main Search End -->
         <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        .chat-box {
            height: 200px;
            overflow-y: scroll;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .chat-entry {
            margin-bottom: 10px;
        }
        .chat-entry p {
            margin: 0;
        }
    </style>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

        <!-- Slider/Intro Section Start -->
        <div class="intro-slider-wrap section">

            <div class="intro-slider swiper-container">

                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="intro-section section overlay" data-bg-image="static/assets/images/hero-image/hero-4.jpg">
                            <div class="container">
                                <div class="row">
                                    <form id="chat-form" class="form-inline w-100">
                                        <label for="question">今天您想了解什么</label>
                                        <input class="form-control mr-2" type="text" id="question" name="question" required>
                                        <input type="submit" class="btn btn-primary mr-2" value="提交问题">
                                    </form>

                                </div>
                                <br>
                                <div class="chat-container">
                                    <div class="chat-box" id="chat-box">
                                        {% if chat_history %}
                                            {% for question, response in chat_history %}
                                                <div class="chat-entry">
                                                    <p><strong>你:</strong> {{ question }}</p>
                                                    <p><strong>机器人:</strong> {{ response }}</p>
                                                </div>
                                            {% endfor %}
                                        {% else %}
                                            <p>暂无聊天记录</p>
                                        {% endif %}
                                    </div>
                                    <div class="clear-btn-container">
                                        <form id="clear-form" action="/clear_history" method="post" class="form-inline">
                                            <input type="submit" class="btn btn-danger" value="清除聊天记录">
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

        <!-- Slider/Intro Section End -->

        <!-- About Section Start -->

        <!-- About Section End -->

        <!-- Skill With Video Section Start -->

        <!-- Skill With Video Section End -->

        <!-- Service Section Start -->


        <!-- Service Section End -->

        <!-- Success Section Start -->

        <!-- Success Section End -->

        <!-- Portfolio Section Start -->

        <!-- Portfolio Section End -->

        <!-- Blog Section Start -->

        <!-- Blog Section End -->

        <!-- Newsletter Section Start -->

        <!-- Newsletter Section End -->

        <!-- Contact Information Section Start -->

        <!-- Contact Information Section End -->

        <div class="footer-section section" data-bg-color="#030e22">
            <div class="container">

                <!-- Footer Top Widgets Start -->

                <!-- Footer Top Widgets End -->

                <!-- Footer Copyright Start -->
                <div class="row">
                    <div class="col">
                        <p class="copyright">© <strong>Chatbot</strong>.</p>
                    </div>
                </div>
                <!-- Footer Copyright End -->

            </div>
        </div>

        <!-- Scroll Top Start -->
        <a href="#" class="scroll-top" id="scroll-top">
            <i class="arrow-top fal fa-long-arrow-up"></i>
            <i class="arrow-bottom fal fa-long-arrow-up"></i>
        </a>
        <!-- Scroll Top End -->
    </div>

    <div id="site-main-mobile-menu" class="site-main-mobile-menu">
        <div class="site-main-mobile-menu-inner">
            <div class="mobile-menu-header">
                <div class="mobile-menu-logo">
                    <a href="index.html"><img src="static/assets/images/logo/light-logo.png" alt=""></a>
                </div>
                <div class="mobile-menu-close">
                    <button class="toggle">
                        <i class="icon-top"></i>
                        <i class="icon-bottom"></i>
                    </button>
                </div>
            </div>
            <div class="mobile-menu-content">
                <nav class="site-mobile-menu">
                    <ul>
                        <li>
                            <a href="/home"><span class="menu-text">首页</span></a>
                        </li>
                        <li>
                            <a href="about.html"><span class="menu-text">介绍</span></a>
                        </li>
                        <li>
                            <a href="service.html"><span class="menu-text">Services</span></a>
                        </li>
                        <li class="has-children">
                            <a href="work.html"><span class="menu-text">Work</span></a>
                            <span class="menu-toggle"><i class="far fa-angle-down"></i></span>
                            <ul class="sub-menu">
                                <li><a href="work.html"><span class="menu-text">Work</span></a></li>
                                <li><a href="work-details.html"><span class="menu-text">Work Details</span></a></li>
                            </ul>
                        </li>
                        <li class="has-children">
                            <a href="#"><span class="menu-text">Blog</span></a>
                            <span class="menu-toggle"><i class="far fa-angle-down"></i></span>
                            <ul class="sub-menu">
                                <li><a href="blog-classic.html"><span class="menu-text">Blog Classic</span></a></li>
                                <li><a href="blog-details.html"><span class="menu-text">Blog Details</span></a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="contact-us.html"><span class="menu-text">Contact Us</span></a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>



    <!-- JS
============================================ -->

    <!-- Vendors JS -->
    <script src="static/assets/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="static/assets/js/vendor/jquery-3.4.1.min.js"></script>
    <script src="static/assets/js/vendor/jquery-migrate-3.1.0.min.js"></script>
    <script src="static/assets/js/vendor/bootstrap.bundle.min.js"></script>

    <!-- Plugins JS -->
    <script src="static/assets/js/plugins/aos.min.js"></script>
    <script src="static/assets/js/plugins/imagesloaded.pkgd.min.js"></script>
    <script src="static/assets/js/plugins/isotope.pkgd.min.js"></script>
    <script src="static/assets/js/plugins/parallax.min.js"></script>
    <script src="static/assets/js/plugins/jquery.ajaxchimp.min.js"></script>
    <script src="static/assets/js/plugins/jquery.counterup.min.js"></script>
    <script src="static/assets/js/plugins/jquery.magnific-popup.min.js"></script>
    <script src="static/assets/js/plugins/svg-inject.min.js"></script>
    <script src="static/assets/js/plugins/swiper.min.js"></script>
    <script src="static/assets/js/plugins/vanilla-tilt.min.js"></script>
    <script src="static/assets/js/plugins/vivus.min.js"></script>
    <script src="static/assets/js/plugins/waypoints.min.js"></script>

    <!-- Use the minified version files listed below for better performance and remove the files listed above -->
    <!-- <script src="static/assets/js/vendor/vendor.min.js"></script>
    <script src="static/assets/js/plugins/plugins.min.js"></script> -->

    <!-- Main Activation JS -->
    <script src="static/assets/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const chatForm = document.getElementById('chat-form');
        const chatBox = document.getElementById('chat-box');

        chatForm.addEventListener('submit', function(event) {
            event.preventDefault(); // 阻止表单默认提交行为

            const question = document.getElementById('question').value;

            fetch('/submit_question', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: new URLSearchParams({
                    'question': question
                })
            })
            .then(response => response.json()) // 期待返回JSON
            .then(data => {
                if (data.success) {
                    const newEntry = document.createElement('div');
                    newEntry.classList.add('chat-entry');
                    newEntry.innerHTML = `<p><strong>你:</strong> ${data.question}</p>
                                          <p><strong>机器人:</strong> ${data.response}</p>`;
                    chatBox.appendChild(newEntry);
                    document.getElementById('question').value = ''; // 清空输入框
                } else {
                    console.error('Failed to submit question');
                }
            })
            .catch(error => console.error('Error:', error));
        });
    });
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const clearForm = document.getElementById('clear-form');

    clearForm.addEventListener('submit', function(event) {
        event.preventDefault(); // 阻止表单默认提交行为

        fetch('/clear_history', {
            method: 'POST',
            headers: {
                'X-Requested-With': 'XMLHttpRequest'
            }
        })
        .then(response => response.json()) // 期待返回JSON
        .then(data => {
            if (data.success) {
                chatBox.innerHTML = '<p>暂无聊天记录</p>'; // 清空聊天记录
            } else {
                console.error('Failed to clear history');
            }
        })
        .catch(error => console.error('Error:', error));
    });
});
</script>




</body>

</html>